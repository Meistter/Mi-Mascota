"use strict";(self.webpackChunkmi_mascota=self.webpackChunkmi_mascota||[]).push([[146],{1146:(Qu,$i,W)=>{W.r($i);var a=W(5861),qe=W(3942),d=W(2090),N=W(6881);function $e(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}var Be=W(1877);W(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function Er(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xi=Er,Tr=new d.LL("auth","Firebase",Er()),ke=new Be.Yd("@firebase/auth");function Pe(n,...e){ke.logLevel<=Be.in.ERROR&&ke.error(`Auth (${N.SDK_VERSION}): ${n}`,...e)}function y(n,...e){throw Ye(n,...e)}function T(n,...e){return Ye(n,...e)}function Rr(n,e,t){const r=Object.assign(Object.assign({},Xi()),{[e]:t});return new d.LL("auth","Firebase",r).create(e,{appName:n.name})}function K(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&y(n,"argument-error"),Rr(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Tr.create(n,...e)}function h(n,e,...t){if(!n)throw Ye(e,...t)}function w(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pe(e),new Error(e)}function S(n,e){n||w(e)}function ae(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Ar(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ue{constructor(e,t){this.shortDelay=e,this.longDelay=t,S(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function es(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Je(){return"http:"===Ar()||"https:"===Ar()}()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(n,e){S(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class kr{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ns={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rs=new ue(3e4,6e4);function m(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function g(n,e,t,r){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(n,e,t,r,i={}){return Pr(n,i,(0,a.Z)(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const u=(0,d.xO)(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),kr.fetch()(Sr(n,n.config.apiHost,t,u),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Pr(n,e,t){return et.apply(this,arguments)}function et(){return(et=(0,a.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ns),e);try{const i=new is(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ce(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[l,c]=u.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw ce(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw ce(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw ce(n,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Rr(n,f,c);y(n,f)}}catch(i){if(i instanceof d.ZR)throw i;y(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function O(n,e,t,r){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(n,e,t,r,i={}){const s=yield g(n,e,t,r,i);return"mfaPendingCredential"in s&&y(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Sr(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Xe(n.config,i):`${n.config.apiScheme}://${i}`}class is{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(T(this.auth,"network-request-failed")),rs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ce(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=T(n,e,r);return i.customData._tokenResponse=t,i}function nt(){return(nt=(0,a.Z)(function*(n,e){return g(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(n,e){return g(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function it(){return(it=(0,a.Z)(function*(n,e){return g(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function le(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function st(){return(st=(0,a.Z)(function*(n,e=!1){const t=(0,d.m9)(n),r=yield t.getIdToken(e),i=Se(r);h(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:le(ot(i.auth_time)),issuedAtTime:le(ot(i.iat)),expirationTime:le(ot(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(n){return 1e3*Number(n)}function Se(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,d.tV)(t);return i?JSON.parse(i):(Pe("Failed to decode base64 JWT payload"),null)}catch(i){return Pe("Caught error parsing JWT payload as JSON",i?.toString()),null}}function C(n,e){return at.apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof d.ZR&&function ls({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ds{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,a.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,a.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class wr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=le(this.lastLoginAt),this.creationTime=le(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function de(n){return ut.apply(this,arguments)}function ut(){return ut=(0,a.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield C(n,function as(n,e){return it.apply(this,arguments)}(t,{idToken:r}));h(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function ps(n){return n.map(e=>{var{providerId:t}=e,r=$e(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],u=function fs(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),f=!!n.isAnonymous&&!(n.email&&s.passwordHash||u?.length),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new wr(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)}),ut.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(n){const e=(0,d.m9)(n);yield de(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(n,e){const t=yield Pr(n,{},(0,a.Z)(function*(){const r=(0,d.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Sr(n,i,"/v1/token",`key=${s}`),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",kr.fetch()(o,{method:"POST",headers:u,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class he{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){h(e.idToken,"internal-error"),h(typeof e.idToken<"u","internal-error"),h(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cs(n){const e=Se(n);return h(e,"internal-error"),h(typeof e.exp<"u","internal-error"),h(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,a.Z)(function*(){return h(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,a.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function _s(n,e){return lt.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new he;return r&&(h("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(h("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(h("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new he,this.toJSON())}_performRefresh(){return w("not implemented")}}function M(n,e){h("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class H{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=$e(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ds(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,a.Z)(function*(){const r=yield C(t,t.stsTokenManager.getToken(t.auth,e));return h(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function us(n){return st.apply(this,arguments)}(this,e)}reload(){return function hs(n){return ct.apply(this,arguments)}(this)}_assign(e){this!==e&&(h(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new H(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){h(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,a.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield de(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,a.Z)(function*(){const t=yield e.getIdToken();return yield C(e,function ss(n,e){return nt.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,u,l,c,f;const p=null!==(r=t.displayName)&&void 0!==r?r:void 0,_=null!==(i=t.email)&&void 0!==i?i:void 0,E=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,Z=null!==(o=t.photoURL)&&void 0!==o?o:void 0,Ge=null!==(u=t.tenantId)&&void 0!==u?u:void 0,pr=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,Hi=null!==(c=t.createdAt)&&void 0!==c?c:void 0,zi=null!==(f=t.lastLoginAt)&&void 0!==f?f:void 0,{uid:_r,emailVerified:Gi,isAnonymous:qi,providerData:mr,stsTokenManager:ji}=t;h(_r&&ji,e,"internal-error");const Ju=he.fromJSON(this.name,ji);h("string"==typeof _r,e,"internal-error"),M(p,e.name),M(_,e.name),h("boolean"==typeof Gi,e,"internal-error"),h("boolean"==typeof qi,e,"internal-error"),M(E,e.name),M(Z,e.name),M(Ge,e.name),M(pr,e.name),M(Hi,e.name),M(zi,e.name);const gr=new H({uid:_r,auth:e,email:_,emailVerified:Gi,displayName:p,isAnonymous:qi,photoURL:Z,phoneNumber:E,tenantId:Ge,stsTokenManager:Ju,createdAt:Hi,lastLoginAt:zi});return mr&&Array.isArray(mr)&&(gr.providerData=mr.map(Xu=>Object.assign({},Xu))),pr&&(gr._redirectEventId=pr),gr}static _fromIdTokenResponse(e,t,r=!1){return(0,a.Z)(function*(){const i=new he;i.updateFromServerResponse(t);const s=new H({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield de(s),s})()}}const br=new Map;function A(n){S(n instanceof Function,"Expected a class definition");let e=br.get(n);return e?(S(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,br.set(n,e),e)}function z(n,e,t){return`firebase:${n}:${e}:${t}`}function dt(n=(0,d.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fe(n=(0,d.z$)()){return/android/i.test(n)}function X(n=(0,d.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Mr(n=(0,d.z$)()){return X(n)||fe(n)||function xr(n=(0,d.z$)()){return/webos/i.test(n)}(n)||function Dr(n=(0,d.z$)()){return/blackberry/i.test(n)}(n)||/windows phone/i.test(n)||function Lr(n=(0,d.z$)()){return/iemobile/i.test(n)}(n)}function v(n){return(0,d.m9)(n)}class Q{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}function Kr(n,e){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(n,e){return g(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function we(n,e){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(n,e){return g(n,"POST","/v1/accounts:sendOobCode",m(n,e))})).apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(n,e){return we(n,e)})).apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(n,e){return we(n,e)})).apply(this,arguments)}function L(n,e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,a.Z)(function*(n,e){return O(n,"POST","/v1/accounts:signInWithIdp",m(n,e))})).apply(this,arguments)}class b extends Q{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new b(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=$e(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new b(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return L(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,L(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,L(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,d.xO)(t)}return e}}function Ot(){return(Ot=(0,a.Z)(function*(n,e){return g(n,"POST","/v1/accounts:sendVerificationCode",m(n,e))})).apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(n,e){return O(n,"POST","/v1/accounts:signInWithPhoneNumber",m(n,e))})).apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(n,e){const t=yield O(n,"POST","/v1/accounts:signInWithPhoneNumber",m(n,e));if(t.temporaryProof)throw ce(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const Zs={USER_NOT_FOUND:"user-not-found"};function Dt(){return(Dt=(0,a.Z)(function*(n,e){return O(n,"POST","/v1/accounts:signInWithPhoneNumber",m(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Zs)})).apply(this,arguments)}class G extends Q{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new G({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new G({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function Fs(n,e){return Ct.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Vs(n,e){return Lt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function Ws(n,e){return Dt.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||t||i||s?new G({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class D{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ee extends D{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class te extends ee{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return h("providerId"in t&&"signInMethod"in t,"argument-error"),b._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return h(e.idToken||e.accessToken,"argument-error"),b._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return te.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return te.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new te(u)._credential({idToken:t,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}let Yr=(()=>{class n extends ee{constructor(){super("facebook.com")}static credential(t){return b._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Jr=(()=>{class n extends ee{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return b._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Xr=(()=>{class n extends ee{constructor(){super("github.com")}static credential(t){return b._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class ne extends Q{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return L(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,L(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,L(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return r&&i&&s&&r===i?new ne(r,s):null}static _create(e,t){return new ne(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Qr=(()=>{class n extends ee{constructor(){super("twitter.com")}static credential(t,r){return b._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();class P{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,a.Z)(function*(){const s=yield H._fromIdTokenResponse(e,r,i),o=ei(r);return new P({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,a.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=ei(r);return new P({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function ei(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Oe extends d.ZR{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oe.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Oe(e,t,r,i)}}function ti(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Oe._fromErrorAndOperation(n,s,e,r):s})}function ni(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function Ft(){return Ft=(0,a.Z)(function*(n,e){const t=(0,d.m9)(n);yield Ce(!0,t,e);const{providerUserInfo:r}=yield function os(n,e){return rt.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=ni(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),Ft.apply(this,arguments)}function Vt(n,e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(n,e,t=!1){const r=yield C(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return P._forOperation(n,"link",r)})).apply(this,arguments)}function Ce(n,e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,a.Z)(function*(n,e,t){yield de(e);const i=!1===n?"provider-already-linked":"no-such-provider";h(ni(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function ri(n,e){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield C(n,ti(r,i,e,n),t);h(s.idToken,r,"internal-error");const o=Se(s.idToken);h(o,r,"internal-error");const{sub:u}=o;return h(n.uid===u,r,"user-mismatch"),P._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&y(r,"user-mismatch"),s}})).apply(this,arguments)}function ii(n,e){return zt.apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(n,e,t=!1){const r="signIn",i=yield ti(n,r,e),s=yield P._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function si(n,e){return qt.apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(n,e){const t=(0,d.m9)(n);return yield Ce(!1,t,e.providerId),Vt(t,e)})).apply(this,arguments)}function oi(n,e){return jt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(function*(n,e){return ri((0,d.m9)(n),e)})).apply(this,arguments)}class me{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Kt._fromServerResponse(e,t):"totpInfo"in t?Yt._fromServerResponse(e,t):y(e,"internal-error")}}class Kt extends me{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Kt(t)}}class Yt extends me{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Yt(t)}}function re(n,e,t){var r;h((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),h(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(h(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(h(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function un(){return un=(0,a.Z)(function*(n,e){const t=(0,d.m9)(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&re(t.auth,i,e);const{email:s}=yield function Cs(n,e){return Tt.apply(this,arguments)}(t.auth,i);s!==n.email&&(yield n.reload())}),un.apply(this,arguments)}function cn(){return cn=(0,a.Z)(function*(n,e,t){const r=(0,d.m9)(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&re(r.auth,s,t);const{email:o}=yield function Ls(n,e){return St.apply(this,arguments)}(r.auth,s);o!==n.email&&(yield n.reload())}),cn.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(n,e){return g(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function dn(){return dn=(0,a.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,d.m9)(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield C(r,function co(n,e){return ln.apply(this,arguments)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:l})=>"password"===l);u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)}),dn.apply(this,arguments)}function ui(n,e,t){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(n,e,t){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=yield C(n,Kr(r,s));yield n._updateTokensIfNecessary(o,!0)})).apply(this,arguments)}class ie{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class ci extends ie{constructor(e,t,r,i){super(e,t,r),this.username=i}}class _o extends ie{constructor(e,t){super(e,"facebook.com",t)}}class mo extends ci{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class go extends ie{constructor(e,t){super(e,"google.com",t)}}class vo extends ci{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Io(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function po(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const o=null===(t=null===(e=Se(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(o)return new ie(s,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new _o(s,i);case"github.com":return new mo(s,i);case"google.com":return new go(s,i);case"twitter.com":return new vo(s,i,n.screenName||null);case"custom":case"anonymous":return new ie(s,null);default:return new ie(s,r,i)}}(t)}class q{constructor(e,t,r){this.type=e,this.credential=t,this.auth=r}static _fromIdtoken(e,t){return new q("enroll",e,t)}static _fromMfaPendingCredential(e){return new q("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return q._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return q._fromIdtoken(e.multiFactorSession.idToken)}return null}}class pn{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=v(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>me._fromServerResponse(r,u));h(i.mfaPendingCredential,r,"internal-error");const o=q._fromMfaPendingCredential(i.mfaPendingCredential);return new pn(o,s,function(){var u=(0,a.Z)(function*(l){const c=yield l._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":const p=yield P._fromIdTokenResponse(r,t.operationType,f);return yield r._updateCurrentUser(p.user),p;case"reauthenticate":return h(t.user,r,"internal-error"),P._forOperation(t.user,t.operationType,f);default:y(r,"internal-error")}});return function(l){return u.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,a.Z)(function*(){return t.signInResolver(e)})()}}class _n{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>me._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new _n(e)}getSession(){var e=this;return(0,a.Z)(function*(){return q._fromIdtoken(yield e.user.getIdToken(),e.user.auth)})()}enroll(e,t){var r=this;return(0,a.Z)(function*(){const i=e,s=yield r.getSession(),o=yield C(r.user,i._process(r.user.auth,s,t));return yield r.user._updateTokensIfNecessary(o),r.user.reload()})()}unenroll(e){var t=this;return(0,a.Z)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const s=yield C(t.user,function Po(n,e){return g(n,"POST","/v2/accounts/mfaEnrollment:withdraw",m(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:o})=>o!==r),yield t.user._updateTokensIfNecessary(s),yield t.user.reload()}catch(s){throw s}})()}}const mn=new WeakMap;class li{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xe=(()=>{class n extends li{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wo(){const n=(0,d.z$)();return dt(n)||X(n)}()&&function Is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mr(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((u,l,c)=>{this.notifyListeners(u,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(i);if(t.newValue!==u)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const u=this.storage.getItem(i);!r&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);!function vs(){return(0,d.w1)()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,a.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,a.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,a.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),F=(()=>{class n extends li{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();function ge(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}function I(){return window}const _i="recaptcha";class Rn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=G._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function kn(){return(kn=(0,a.Z)(function*(n,e,t){const r=(0,d.m9)(n);yield Ce(!1,r,"phone");const i=yield Ve(r.auth,e,(0,d.m9)(t));return new Rn(i,s=>si(r,s))})).apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(n,e,t){const r=(0,d.m9)(n),i=yield Ve(r.auth,e,(0,d.m9)(t));return new Rn(i,s=>oi(r,s))})).apply(this,arguments)}function Ve(n,e,t){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,a.Z)(function*(n,e,t){var r;const i=yield t.verify();try{let s;if(h("string"==typeof i,n,"argument-error"),h(t.type===_i,n,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const o=s.session;if("phoneNumber"in s)return h("enroll"===o.type,n,"internal-error"),(yield function Ro(n,e){return g(n,"POST","/v2/accounts/mfaEnrollment:start",m(n,e))}(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{h("signin"===o.type,n,"internal-error");const u=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return h(u,n,"missing-multi-factor-info"),(yield function zo(n,e){return g(n,"POST","/v2/accounts/mfaSignIn:start",m(n,e))}(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield function Us(n,e){return Ot.apply(this,arguments)}(n,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{t._reset()}}),Sn.apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(n,e){yield Vt((0,d.m9)(n),e)})).apply(this,arguments)}let Ie=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=v(t)}verifyPhoneNumber(t,r){return Ve(this.auth,t,(0,d.m9)(r))}static credential(t,r){return G._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?G._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function j(n,e){return e?A(e):(h(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class bn extends Q{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return L(e,this._buildIdpRequest())}_linkToIdToken(e,t){return L(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return L(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ca(n){return ii(n.auth,new bn(n),n.bypassAuthState)}function la(n){const{auth:e,user:t}=n;return h(t,e,"internal-error"),ri(t,new bn(n),n.bypassAuthState)}function da(n){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(n){const{auth:e,user:t}=n;return h(t,e,"internal-error"),Vt(t,new bn(n),n.bypassAuthState)})).apply(this,arguments)}class mi{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,a.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,a.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:u,type:l}=e;if(u)return void t.reject(u);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(f){t.reject(f)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ca;case"linkViaPopup":case"linkViaRedirect":return da;case"reauthViaPopup":case"reauthViaRedirect":return la;default:y(this.auth,"internal-error")}}resolve(e){S(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){S(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ha=new ue(2e3,1e4);function Cn(){return(Cn=(0,a.Z)(function*(n,e,t){const r=(0,d.m9)(n);K(r.auth,e,D);const i=j(r.auth,t);return new Dn(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(n,e,t){const r=(0,d.m9)(n);K(r.auth,e,D);const i=j(r.auth,t);return new Dn(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let Dn=(()=>{class n extends mi{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,a.Z)(function*(){const r=yield t.execute();return h(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,a.Z)(function*(){S(1===t.filter.length,"Popup operations only handle one event");const r=ge();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(T(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(T(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(T(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,ha.get())};t()}}return n.currentPopupAction=null,n})();const ma="pendingRedirect",ye=new Map;class ga extends mi{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,a.Z)(function*(){let r=ye.get(t.auth._key());if(!r){try{const s=(yield function va(n,e){return xn.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ye.set(t.auth._key(),r)}return t.bypassAuthState||ye.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,a.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function xn(){return(xn=(0,a.Z)(function*(n,e){const t=vi(e),r=gi(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Mn(n,e){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(n,e){return gi(n)._set(vi(e),"true")})).apply(this,arguments)}function Fn(n,e){ye.set(n._key(),e)}function gi(n){return A(n._redirectPersistence)}function vi(n){return z(ma,n.config.apiKey,n.name)}function Ta(n,e,t){return function Ra(n,e,t){return Zn.apply(this,arguments)}(n,e,t)}function Zn(){return(Zn=(0,a.Z)(function*(n,e,t){const r=(0,d.m9)(n);K(r.auth,e,D),yield r.auth._initializationPromise;const i=j(r.auth,t);yield Mn(i,r.auth);const s=yield Ii(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)})).apply(this,arguments)}function Aa(n,e,t){return function ka(n,e,t){return Wn.apply(this,arguments)}(n,e,t)}function Wn(){return(Wn=(0,a.Z)(function*(n,e,t){const r=(0,d.m9)(n);K(r.auth,e,D),yield r.auth._initializationPromise;const i=j(r.auth,t);yield Ce(!1,r,e.providerId),yield Mn(i,r.auth);const s=yield Ii(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function Ze(n,e){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(n,e,t=!1){const r=v(n),i=j(r,e),o=yield new ga(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}function Ii(n){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,a.Z)(function*(n){const e=ge(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class yi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function wa(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ti(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ti(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(T(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ei(e))}saveEventToCache(e){this.cachedEventUids.add(Ei(e)),this.lastProcessedEventTime=Date.now()}}function Ei(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ti({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Ri(n){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(n,e={}){return g(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Na=/^https?/;function jn(){return(jn=(0,a.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Ri(n);for(const t of e)try{if(Ca(t))return}catch{}y(n,"unauthorized-domain")})).apply(this,arguments)}function Ca(n){const e=ae(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Na.test(t))return!1;if(ba.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const La=new ue(3e4,6e4);function Ai(){const n=I().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let We=null;function xa(n){return We=We||function Da(n){return new Promise((e,t)=>{var r,i,s;function o(){Ai(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ai(),t(T(n,"network-request-failed"))},timeout:La.get()})}if(null!==(i=null===(r=I().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=I().gapi)||void 0===s||!s.load){const u=function Hr(n){return`__${n}${Math.floor(1e6*Math.random())}`}("iframefcb");return I()[u]=()=>{gapi.load?o():t(T(n,"network-request-failed"))},function pt(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=T("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Es(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${u}`).catch(l=>t(l))}o()}}).catch(e=>{throw We=null,e})}(n),We}const Ma=new ue(5e3,15e3),Ua="__/auth/iframe",Fa="emulator/auth/iframe",Va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Za=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wa(n){const e=n.config;h(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xe(e,Fa):`https://${n.config.authDomain}/${Ua}`,r={apiKey:e.apiKey,appName:n.name,v:N.SDK_VERSION},i=Za.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${(0,d.xO)(r).slice(1)}`}function $n(){return $n=(0,a.Z)(function*(n){const e=yield xa(n),t=I().gapi;return h(t,n,"internal-error"),e.open({where:document.body,url:Wa(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Va,dontclear:!0},r=>new Promise(function(){var i=(0,a.Z)(function*(s,o){yield r.restyle({setHideOnLeave:!1});const u=T(n,"network-request-failed"),l=I().setTimeout(()=>{o(u)},Ma.get());function c(){I().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(u)})});return function(s,o){return i.apply(this,arguments)}}()))}),$n.apply(this,arguments)}const za={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ga=500,qa=600,ja="_blank",$a="http://localhost";class ki{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ba(n,e,t,r=Ga,i=qa){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const l=Object.assign(Object.assign({},za),{width:r.toString(),height:i.toString(),top:s,left:o}),c=(0,d.z$)().toLowerCase();t&&(u=function Cr(n=(0,d.z$)()){return/crios\//i.test(n)}(c)?ja:t),function Or(n=(0,d.z$)()){return/firefox\//i.test(n)}(c)&&(e=e||$a,l.scrollbars="yes");const f=Object.entries(l).reduce((_,[E,Z])=>`${_}${E}=${Z},`,"");if(function gs(n=(0,d.z$)()){var e;return X(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==u)return function Ka(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",u),new ki(null);const p=window.open(e||"",u,f);h(p,n,"popup-blocked");try{p.focus()}catch{}return new ki(p)}const Ya="__/auth/handler",Ja="emulator/auth/handler",Xa=encodeURIComponent("fac");function Bn(n,e,t,r,i,s){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(n,e,t,r,i,s){h(n.config.authDomain,n,"auth-domain-config-required"),h(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:N.SDK_VERSION,eventId:i};if(e instanceof D){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",(0,d.xb)(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof ee){const f=e.getScopes().filter(p=>""!==p);f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const u=o;for(const f of Object.keys(u))void 0===u[f]&&delete u[f];const l=yield n._getAppCheckToken(),c=l?`#${Xa}=${encodeURIComponent(l)}`:"";return`${function Qa({config:n}){return n.emulator?Xe(n,Ja):`https://${n.authDomain}/${Ya}`}(n)}?${(0,d.xO)(u).slice(1)}${c}`})).apply(this,arguments)}const Yn="webStorageSupport",Pi=class eu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F,this._completeRedirectFn=Ze,this._overrideRedirectResult=Fn}_openPopup(e,t,r,i){var s=this;return(0,a.Z)(function*(){var o;S(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const u=yield Bn(e,t,r,ae(),i);return Ba(e,u,ge())})()}_openRedirect(e,t,r,i){var s=this;return(0,a.Z)(function*(){return yield s._originValidation(e),function Do(n){I().location.href=n}(yield Bn(e,t,r,ae(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(S(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,a.Z)(function*(){const r=yield function Ha(n){return $n.apply(this,arguments)}(e),i=new yi(e);return r.register("authEvent",s=>(h(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yn,{type:Yn},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Yn];void 0!==o&&t(!!o),y(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Oa(n){return jn.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mr()||dt()||X()}};function $(){return window}const cu=2e3;function Qn(){return Qn=(0,a.Z)(function*(n,e,t){var r;const{BuildInfo:i}=$();S(e.sessionId,"AuthEvent did not contain a session ID");const s=yield function _u(n){return nr.apply(this,arguments)}(e.sessionId),o={};return X()?o.ibi=i.packageName:fe()?o.apn=i.packageName:y(n,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Bn(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,o)}),Qn.apply(this,arguments)}function er(){return(er=(0,a.Z)(function*(n){const{BuildInfo:e}=$(),t={};X()?t.iosBundleId=e.packageName:fe()?t.androidPackageName=e.packageName:y(n,"operation-not-supported-in-this-environment"),yield Ri(n,t)})).apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(n,e,t){const{cordova:r}=$();let i=()=>{};try{yield new Promise((s,o)=>{let u=null;function l(){var p;s();const _=null===(p=r.plugins.browsertab)||void 0===p?void 0:p.close;"function"==typeof _&&_(),"function"==typeof t?.close&&t.close()}function c(){u||(u=window.setTimeout(()=>{o(T(n,"redirect-cancelled-by-user"))},cu))}function f(){"visible"===document?.visibilityState&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),fe()&&document.addEventListener("visibilitychange",f,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",f,!1),u&&window.clearTimeout(u)}})}finally{i()}})).apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(n){const e=function mu(n){if(S(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const gu=20;class vu extends yi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,a.Z)(function*(){yield e.initPromise})()}}function Oi(n){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.Z)(function*(n){const e=yield ir()._get(sr(n));return e&&(yield ir()._remove(sr(n))),e})).apply(this,arguments)}function Tu(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<gu;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function ir(){return A(xe)}function sr(n){return z("authEvent",n.config.apiKey,n.name)}function ze(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return(0,d.zd)(t.join("?"))}const Su=class Pu{constructor(){this._redirectPersistence=F,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ze,this._overrideRedirectResult=Fn}_initialize(e){var t=this;return(0,a.Z)(function*(){const r=e._key();let i=t.eventManagers.get(r);return i||(i=new vu(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){y(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){var s=this;return(0,a.Z)(function*(){!function pu(n){var e,t,r,i,s,o,u,l,c,f;const p=$();h("function"==typeof(null===(e=p?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),h(typeof(null===(t=p?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),h("function"==typeof(null===(s=null===(i=null===(r=p?.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),h("function"==typeof(null===(l=null===(u=null===(o=p?.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===l?void 0:l.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),h("function"==typeof(null===(f=null===(c=p?.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===f?void 0:f.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const o=yield s._initialize(e);yield o.initialized(),o.resetRedirect(),function Ia(){ye.clear()}(),yield s._originValidation(e);const u=function Iu(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:Tu(),postBody:null,tenantId:n.tenantId,error:T(n,"no-auth-event")}}(e,r,i);yield function yu(n,e){return ir()._set(sr(n),e)}(e,u);const l=yield function lu(n,e,t){return Qn.apply(this,arguments)}(e,u,t),c=yield function hu(n){const{cordova:e}=$();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,function ms(n=(0,d.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(i)})})}(l);return function fu(n,e,t){return tr.apply(this,arguments)}(e,o,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function du(n){return er.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=$(),o=setTimeout((0,a.Z)(function*(){yield Oi(e),t.onEvent(Ci())}),500),u=function(){var f=(0,a.Z)(function*(p){clearTimeout(o);const _=yield Oi(e);let E=null;_&&p?.url&&(E=function Eu(n,e){var t,r;const i=function Au(n){const e=ze(n),t=e.link?decodeURIComponent(e.link):void 0,r=ze(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ze(i).link||i||r||t||n}(e);if(i.includes("/__/auth/callback")){const s=ze(i),o=s.firebaseError?function Ru(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(s.firebaseError)):null,u=null===(r=null===(t=o?.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],l=u?T(u):null;return l?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}(_,p.url)),t.onEvent(E||Ci())});return function(_){return f.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,u);const l=i,c=`${s.packageName.toLowerCase()}://`;$().handleOpenURL=function(){var f=(0,a.Z)(function*(p){if(p.toLowerCase().startsWith(c)&&u({url:p}),"function"==typeof l)try{l(p)}catch(_){console.error(_)}});return function(p){return f.apply(this,arguments)}}()}};function Ci(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:T("no-auth-event")}}const Ou=1e3;function Ee(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function xi(){return function Li(n=(0,d.z$)()){return!("file:"!==Ee()&&"ionic:"!==Ee()&&"capacitor:"!==Ee()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function ur(){return(ur=(0,a.Z)(function*(){return!!xi()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},Ou);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})})).apply(this,arguments)}const Mi="persistence";function cr(n){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(n){yield n._initializationPromise;const e=function Ui(){var n;try{return(null===(n=function Fu(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}(),t=z(Mi,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())})).apply(this,arguments)}const Wu=h;class V{constructor(){this.browserResolver=A(Pi),this.cordovaResolver=A(Su),this.underlyingResolver=null,this._redirectPersistence=F,this._completeRedirectFn=Ze,this._overrideRedirectResult=Fn}_initialize(e){var t=this;return(0,a.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,i){var s=this;return(0,a.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,r,i)})()}_openRedirect(e,t,r,i){var s=this;return(0,a.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,r,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,a.Z)(function*(){if(e.underlyingResolver)return;const t=yield function Uu(){return ur.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Fi(n){return n.unwrap()}function zu(n){return Vi(n)}function Vi(n){const{_tokenResponse:e}=n instanceof d.ZR?n.customData:n;if(!e)return null;if(!(n instanceof d.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return Ie.credentialFromResult(n);const t=e.providerId;if(!t||t===oe.PASSWORD)return null;let r;switch(t){case oe.GOOGLE:r=Jr;break;case oe.FACEBOOK:r=Yr;break;case oe.GITHUB:r=Xr;break;case oe.TWITTER:r=Qr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:u,nonce:l}=e;return s||o||i||u?u?t.startsWith("saml.")?ne._create(t,u):b._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new te(t).credential({idToken:i,accessToken:s,rawNonce:l}):null}return n instanceof d.ZR?r.credentialFromError(n):r.credentialFromResult(n)}function R(n,e){return e.catch(t=>{throw t instanceof d.ZR&&function Gu(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new qu(n,function To(n,e){var t;const r=(0,d.m9)(n),i=e;return h(e.customData.operationType,r,"argument-error"),h(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),pn._fromError(r,i)}(n,e));else if(r){const i=Vi(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const i=t.user;return{operationType:t.operationType,credential:zu(t),additionalUserInfo:Io(t),user:x.getOrCreate(i)}})}function dr(n,e){return hr.apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>R(n,t.confirm(r))}})).apply(this,arguments)}class qu{constructor(e,t){this.resolver=t,this.auth=function Hu(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return R(Fi(this.auth),this.resolver.resolveSignIn(e))}}class x{constructor(e){this._delegate=e,this.multiFactor=function So(n){const e=(0,d.m9)(n);return mn.has(e)||mn.set(e,_n._fromUser(e)),mn.get(e)}(e)}static getOrCreate(e){return x.USER_MAP.has(e)||x.USER_MAP.set(e,new x(e)),x.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,a.Z)(function*(){return R(t.auth,si(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,a.Z)(function*(){return dr(r.auth,function oa(n,e,t){return kn.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,a.Z)(function*(){return R(t.auth,function _a(n,e,t){return Ln.apply(this,arguments)}(t._delegate,e,V))})()}linkWithRedirect(e){var t=this;return(0,a.Z)(function*(){return yield cr(v(t.auth)),Aa(t._delegate,e,V)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,a.Z)(function*(){return R(t.auth,oi(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return dr(this.auth,function aa(n,e,t){return Pn.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return R(this.auth,function pa(n,e,t){return Cn.apply(this,arguments)}(this._delegate,e,V))}reauthenticateWithRedirect(e){var t=this;return(0,a.Z)(function*(){return yield cr(v(t.auth)),Ta(t._delegate,e,V)})()}sendEmailVerification(e){return function ao(n,e){return un.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,a.Z)(function*(){return yield function $s(n,e){return Ft.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function ho(n,e){return ui((0,d.m9)(n),e,null)}(this._delegate,e)}updatePassword(e){return function fo(n,e){return ui((0,d.m9)(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function ua(n,e){return wn.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function lo(n,e){return dn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function uo(n,e,t){return cn.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}x.USER_MAP=new WeakMap;class fr{constructor(){this.providerId="phone",this._delegate=new Ie(Fi(qe.Z.auth()))}static credential(e,t){return Ie.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}fr.PHONE_SIGN_IN_METHOD=Ie.PHONE_SIGN_IN_METHOD,fr.PROVIDER_ID=Ie.PROVIDER_ID}}]);